<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VLProject - Toko Proyek Berbasis Credit Point</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#1e40af',
                        accent: '#f59e0b',
                        success: '#10b981',
                        danger: '#ef4444',
                        dark: '#1f2937',
                        light: '#f9fafb',
                        'credit-blue': '#0ea5e9',
                        'credit-gold': '#fbbf24'
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s infinite',
                        'float': 'float 3s ease-in-out infinite',
                        'bounce-slow': 'bounce 2s infinite',
                        'slide-in': 'slideIn 0.3s ease-out',
                        'fade-in': 'fadeIn 0.5s ease-out'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        slideIn: {
                            '0%': { transform: 'translateX(-100%)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' }
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #1e40af;
        }
        
        /* Selection color */
        ::selection {
            background-color: rgba(59, 130, 246, 0.3);
            color: #1f2937;
        }
        
        /* Mobile optimizations */
        @media (max-width: 640px) {
            .mobile-touch-optimized {
                touch-action: manipulation;
            }
            
            .mobile-touch-optimized button {
                min-height: 44px;
                min-width: 44px;
            }
        }
        
        /* Print styles */
        @media print {
            .no-print {
                display: none !important;
            }
            
            body {
                color: black !important;
                background: white !important;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 text-gray-800 min-h-screen">
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="fixed inset-0 bg-white z-50 flex flex-col items-center justify-center transition-opacity duration-300">
        <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"></div>
        <p class="text-gray-600 font-semibold">Memuat VLProject...</p>
    </div>

    <!-- Notification System -->
    <div id="notification-container" class="fixed top-4 right-4 z-50 space-y-3 max-w-sm"></div>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="fixed inset-y-0 right-0 w-full md:w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-40">
        <div class="h-full flex flex-col">
            <div class="p-6 border-b flex justify-between items-center">
                <h2 class="text-xl font-bold">Keranjang Download</h2>
                <button id="close-cart" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            
            <div class="flex-1 overflow-y-auto p-4">
                <div id="cart-items" class="space-y-4">
                    <!-- Cart items will be added here dynamically -->
                    <div class="text-center py-10 text-gray-500">
                        <i class="fas fa-shopping-cart text-4xl mb-4"></i>
                        <p>Keranjang masih kosong</p>
                    </div>
                </div>
            </div>
            
            <div class="border-t p-6">
                <div class="flex justify-between mb-4">
                    <span class="font-semibold">Total Credit:</span>
                    <span id="cart-total" class="text-2xl font-bold text-credit-blue">0</span>
                </div>
                <div class="flex justify-between mb-6 text-sm text-gray-600">
                    <span>Credit tersedia:</span>
                    <span id="available-credit" class="font-semibold">450</span>
                </div>
                <button id="checkout-btn" class="w-full bg-gradient-to-r from-primary to-secondary text-white py-3 rounded-lg font-bold hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    Download Semua (<span id="item-count">0</span> Project)
                </button>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="fixed inset-0 bg-black/50 z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-md w-full animate-fade-in">
            <div class="p-6 border-b">
                <h2 class="text-xl font-bold flex items-center">
                    <i class="fas fa-credit-card mr-3 text-primary"></i>
                    Top-Up Credit
                </h2>
            </div>
            
            <div class="p-6">
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Pilih Paket Credit</label>
                    <div class="grid grid-cols-2 gap-3">
                        <button class="package-option border-2 border-gray-200 rounded-xl p-4 hover:border-primary transition" data-credit="50" data-price="50000">
                            <div class="text-center">
                                <p class="text-xl font-bold">50</p>
                                <p class="text-sm text-gray-600">Credit</p>
                                <p class="text-sm font-semibold mt-2">Rp 50.000</p>
                            </div>
                        </button>
                        <button class="package-option border-2 border-gray-200 rounded-xl p-4 hover:border-primary transition" data-credit="120" data-price="100000">
                            <div class="text-center">
                                <p class="text-xl font-bold">120</p>
                                <p class="text-sm text-gray-600">Credit</p>
                                <p class="text-sm font-semibold mt-2">Rp 100.000</p>
                            </div>
                        </button>
                        <button class="package-option border-2 border-gray-200 rounded-xl p-4 hover:border-primary transition" data-credit="300" data-price="220000">
                            <div class="text-center">
                                <p class="text-xl font-bold">300</p>
                                <p class="text-sm text-gray-600">Credit</p>
                                <p class="text-sm font-semibold mt-2">Rp 220.000</p>
                            </div>
                        </button>
                        <button class="package-option border-2 border-gray-200 rounded-xl p-4 hover:border-primary transition" data-credit="800" data-price="500000">
                            <div class="text-center">
                                <p class="text-xl font-bold">800</p>
                                <p class="text-sm text-gray-600">Credit</p>
                                <p class="text-sm font-semibold mt-2">Rp 500.000</p>
                            </div>
                        </button>
                    </div>
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Metode Pembayaran</label>
                    <select id="payment-method" class="w-full border border-gray-300 rounded-lg px-4 py-3">
                        <option value="bank_transfer">Transfer Bank</option>
                        <option value="credit_card">Kartu Kredit</option>
                        <option value="ewallet">E-Wallet</option>
                        <option value="virtual_account">Virtual Account</option>
                    </select>
                </div>
                
                <div class="bg-gray-50 rounded-xl p-4 mb-6">
                    <div class="flex justify-between mb-2">
                        <span class="text-gray-600">Paket Dipilih:</span>
                        <span id="selected-package" class="font-bold">-</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span class="text-gray-600">Jumlah Credit:</span>
                        <span id="selected-credit" class="font-bold text-credit-blue">0</span>
                    </div>
                    <div class="flex justify-between text-lg font-bold">
                        <span>Total Pembayaran:</span>
                        <span id="selected-price">Rp 0</span>
                    </div>
                </div>
                
                <div class="flex space-x-3">
                    <button id="cancel-payment" class="flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition">
                        Batal
                    </button>
                    <button id="confirm-payment" class="flex-1 bg-gradient-to-r from-primary to-secondary text-white py-3 rounded-lg font-bold hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        <i class="fas fa-lock mr-2"></i>Bayar Sekarang
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Project Detail Modal -->
    <div id="project-detail-modal" class="fixed inset-0 bg-black/50 z-50 hidden items-center justify-center p-4 overflow-y-auto">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fade-in">
            <div id="project-detail-content">
                <!-- Content will be loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="hidden">
        <!-- Header -->
        <header class="sticky top-0 z-40 bg-white/95 backdrop-blur-md shadow-lg">
            <div class="container mx-auto px-4 py-3">
                <div class="flex justify-between items-center">
                    <!-- Logo -->
                    <div class="flex items-center space-x-2 cursor-pointer" id="logo">
                        <div class="bg-gradient-to-r from-primary to-secondary p-2 rounded-xl">
                            <i class="fas fa-code text-white text-lg"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary">VLProject</h1>
                            <p class="text-xs text-gray-500 hidden sm:block">Project Marketplace</p>
                        </div>
                    </div>
                    
                    <!-- Desktop Navigation -->
                    <div class="hidden md:flex items-center space-x-6">
                        <div class="relative group">
                            <button id="credit-balance" class="bg-gradient-to-r from-credit-blue to-cyan-500 p-3 rounded-xl flex items-center space-x-3 text-white hover:shadow-lg transition">
                                <i class="fas fa-coins text-credit-gold text-xl"></i>
                                <div class="text-left">
                                    <p class="font-bold text-lg"><span id="user-credit">450</span> Credits</p>
                                    <p class="text-xs opacity-90">Klik untuk top-up</p>
                                </div>
                            </button>
                        </div>
                        
                        <div class="relative group">
                            <button id="user-menu" class="flex items-center space-x-3">
                                <div class="w-12 h-12 bg-gradient-to-r from-accent to-yellow-400 rounded-full flex items-center justify-center">
                                    <span class="text-white font-bold">JD</span>
                                </div>
                                <div class="hidden lg:block text-left">
                                    <p class="font-bold">John Developer</p>
                                    <p class="text-sm text-gray-500">Level 3 Developer</p>
                                </div>
                            </button>
                            <div class="absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-200 hidden group-hover:block animate-slide-in">
                                <div class="p-4 border-b">
                                    <p class="font-bold">John Developer</p>
                                    <p class="text-sm text-gray-500">john@developer.com</p>
                                </div>
                                <div class="p-2">
                                    <a href="#" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50">
                                        <i class="fas fa-user text-gray-600"></i>
                                        <span>Profil Saya</span>
                                    </a>
                                    <a href="#" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50">
                                        <i class="fas fa-history text-gray-600"></i>
                                        <span>Riwayat Download</span>
                                    </a>
                                    <a href="#" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50">
                                        <i class="fas fa-cog text-gray-600"></i>
                                        <span>Pengaturan</span>
                                    </a>
                                    <div class="border-t mt-2 pt-2">
                                        <a href="#" class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 text-danger">
                                            <i class="fas fa-sign-out-alt"></i>
                                            <span>Keluar</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Mobile Menu Button -->
                    <button id="mobile-menu-btn" class="md:hidden w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-gray-200 transition">
                        <i class="fas fa-bars text-gray-700 text-xl"></i>
                    </button>
                </div>
                
                <!-- Navigation Tabs -->
                <div class="mt-4 flex space-x-2 overflow-x-auto pb-2">
                    <button class="nav-tab active px-4 py-2 bg-gradient-to-r from-primary to-secondary text-white rounded-lg font-medium text-sm flex-shrink-0 shadow" data-category="all">
                        <i class="fas fa-th mr-2"></i>Semua Project
                    </button>
                    <button class="nav-tab px-4 py-2 bg-white text-gray-700 rounded-lg font-medium text-sm flex-shrink-0 hover:bg-gray-50 shadow" data-category="basic">
                        <i class="fas fa-layer-group mr-2"></i>Basic
                    </button>
                    <button class="nav-tab px-4 py-2 bg-white text-gray-700 rounded-lg font-medium text-sm flex-shrink-0 hover:bg-gray-50 shadow" data-category="intermediate">
                        <i class="fas fa-chart-line mr-2"></i>Intermediate
                    </button>
                    <button class="nav-tab px-4 py-2 bg-white text-gray-700 rounded-lg font-medium text-sm flex-shrink-0 hover:bg-gray-50 shadow" data-category="advanced">
                        <i class="fas fa-rocket mr-2"></i>Advanced
                    </button>
                    <div class="relative flex-shrink-0">
                        <input type="text" id="search-input" placeholder="Cari project..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-64 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                </div>
                
                <!-- Mobile Menu -->
                <div id="mobile-menu" class="md:hidden mt-4 hidden animate-slide-in">
                    <div class="bg-gray-50 rounded-xl p-4 space-y-4">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 bg-gradient-to-r from-accent to-yellow-400 rounded-full flex items-center justify-center">
                                    <span class="text-white font-bold">JD</span>
                                </div>
                                <div>
                                    <p class="font-bold">John Developer</p>
                                    <p class="text-sm text-gray-500">450 Credits</p>
                                </div>
                            </div>
                            <button id="mobile-topup" class="bg-gradient-to-r from-primary to-secondary text-white px-4 py-2 rounded-lg font-medium">
                                <i class="fas fa-plus mr-1"></i>Top-up
                            </button>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-3">
                            <a href="#" class="bg-white p-3 rounded-lg flex flex-col items-center justify-center hover:shadow transition">
                                <i class="fas fa-history text-primary text-xl mb-2"></i>
                                <span class="text-sm font-medium">Riwayat</span>
                            </a>
                            <a href="#" class="bg-white p-3 rounded-lg flex flex-col items-center justify-center hover:shadow transition">
                                <i class="fas fa-heart text-danger text-xl mb-2"></i>
                                <span class="text-sm font-medium">Favorit</span>
                            </a>
                            <a href="#" class="bg-white p-3 rounded-lg flex flex-col items-center justify-center hover:shadow transition">
                                <i class="fas fa-cog text-gray-600 text-xl mb-2"></i>
                                <span class="text-sm font-medium">Pengaturan</span>
                            </a>
                            <a href="#" class="bg-white p-3 rounded-lg flex flex-col items-center justify-center hover:shadow transition">
                                <i class="fas fa-sign-out-alt text-gray-600 text-xl mb-2"></i>
                                <span class="text-sm font-medium">Keluar</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-6 pb-24 md:pb-6">
            <!-- Stats Bar -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                <div class="bg-white rounded-xl p-4 shadow border border-gray-200">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600">Credit Tersedia</p>
                            <p class="text-2xl font-bold text-credit-blue"><span id="available-credit-stat">450</span></p>
                        </div>
                        <i class="fas fa-coins text-credit-gold text-2xl"></i>
                    </div>
                </div>
                <div class="bg-white rounded-xl p-4 shadow border border-gray-200">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600">Project Diunduh</p>
                            <p class="text-2xl font-bold text-primary">12</p>
                        </div>
                        <i class="fas fa-download text-primary text-2xl"></i>
                    </div>
                </div>
                <div class="bg-white rounded-xl p-4 shadow border border-gray-200">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600">Level Developer</p>
                            <p class="text-2xl font-bold text-accent">3</p>
                        </div>
                        <i class="fas fa-trophy text-accent text-2xl"></i>
                    </div>
                </div>
                <div class="bg-white rounded-xl p-4 shadow border border-gray-200">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600">Project Favorit</p>
                            <p class="text-2xl font-bold text-danger">5</p>
                        </div>
                        <i class="fas fa-heart text-danger text-2xl"></i>
                    </div>
                </div>
            </div>

            <!-- Projects Grid -->
            <div id="projects-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">
                <!-- Projects will be loaded here -->
            </div>

            <!-- Loading More -->
            <div id="loading-more" class="hidden text-center py-8">
                <div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary mb-2"></div>
                <p class="text-gray-600">Memuat project...</p>
            </div>

            <!-- No Results -->
            <div id="no-results" class="hidden text-center py-12">
                <i class="fas fa-search text-4xl text-gray-400 mb-4"></i>
                <h3 class="text-xl font-bold text-gray-600 mb-2">Project tidak ditemukan</h3>
                <p class="text-gray-500">Coba kata kunci lain atau filter yang berbeda</p>
            </div>
        </main>

        <!-- Bottom Navigation for Mobile -->
        <div class="md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 shadow-2xl">
            <div class="flex justify-around items-center py-3">
                <button class="flex flex-col items-center text-primary">
                    <i class="fas fa-home text-xl"></i>
                    <span class="text-xs mt-1">Home</span>
                </button>
                <button class="flex flex-col items-center text-gray-600">
                    <i class="fas fa-th-large text-xl"></i>
                    <span class="text-xs mt-1">Project</span>
                </button>
                <button id="cart-button-mobile" class="flex flex-col items-center -mt-6 relative">
                    <div class="w-14 h-14 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center shadow-lg">
                        <i class="fas fa-shopping-cart text-white text-xl"></i>
                        <span id="cart-badge" class="absolute -top-1 -right-1 w-5 h-5 bg-danger rounded-full flex items-center justify-center text-xs font-bold text-white">0</span>
                    </div>
                    <span class="text-xs mt-1">Cart</span>
                </button>
                <button class="flex flex-col items-center text-gray-600">
                    <i class="fas fa-coins text-xl"></i>
                    <span class="text-xs mt-1">Credit</span>
                </button>
                <button class="flex flex-col items-center text-gray-600">
                    <i class="fas fa-user text-xl"></i>
                    <span class="text-xs mt-1">Profile</span>
                </button>
            </div>
        </div>

        <!-- Floating Action Buttons -->
        <div class="fixed bottom-6 right-6 z-40 space-y-3">
            <button id="cart-button" class="no-print w-14 h-14 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center text-white shadow-2xl hover:scale-110 transition duration-300">
                <i class="fas fa-shopping-cart text-xl"></i>
                <span id="cart-badge-desktop" class="absolute -top-2 -right-2 w-6 h-6 bg-danger rounded-full flex items-center justify-center text-xs font-bold">0</span>
            </button>
            <button id="topup-button" class="no-print w-14 h-14 bg-gradient-to-r from-accent to-yellow-500 rounded-full flex items-center justify-center text-white shadow-2xl hover:scale-110 transition duration-300">
                <i class="fas fa-plus text-xl"></i>
            </button>
        </div>
    </div>

    <!-- Data Store (Simulated Database) -->
    <script id="projects-data" type="application/json">
        {
            "projects": [
                {
                    "id": 1,
                    "name": "E-Commerce Store",
                    "description": "Project dasar toko online dengan sistem cart, checkout, dan admin panel sederhana. Termasuk manajemen produk, kategori, dan laporan penjualan.",
                    "category": "basic",
                    "price": 120,
                    "rating": 4.8,
                    "downloads": 245,
                    "stage": 1,
                    "totalStages": 5,
                    "icon": "shopping-cart",
                    "color": "from-cyan-500 to-blue-500",
                    "features": ["Cart System", "Checkout Process", "Admin Panel", "Product Management"],
                    "nextStageCost": 80
                },
                {
                    "id": 2,
                    "name": "Analytics Dashboard",
                    "description": "Dashboard analitik dengan grafik interaktif, multi-user, dan export data. Cocok untuk monitoring bisnis dan data analytics.",
                    "category": "intermediate",
                    "price": 250,
                    "rating": 4.9,
                    "downloads": 187,
                    "stage": 3,
                    "totalStages": 5,
                    "icon": "chart-line",
                    "color": "from-purple-500 to-pink-500",
                    "features": ["Interactive Charts", "Multi-user", "Data Export", "Real-time Updates"],
                    "nextStageCost": 120
                },
                {
                    "id": 3,
                    "name": "CMS Blog Platform",
                    "description": "Platform blog dengan multi-user, SEO tools, scheduled posts, dan analytics. Siap untuk blog pribadi atau perusahaan.",
                    "category": "advanced",
                    "price": 450,
                    "rating": 4.7,
                    "downloads": 132,
                    "stage": 4,
                    "totalStages": 5,
                    "icon": "blog",
                    "color": "from-green-500 to-emerald-500",
                    "features": ["Multi-user", "SEO Tools", "Scheduled Posts", "Analytics"],
                    "nextStageCost": 200
                },
                {
                    "id": 4,
                    "name": "Task Management App",
                    "description": "Aplikasi manajemen tugas dengan drag-drop interface, timeline, dan kolaborasi tim.",
                    "category": "basic",
                    "price": 80,
                    "rating": 4.5,
                    "downloads": 321,
                    "stage": 1,
                    "totalStages": 4,
                    "icon": "tasks",
                    "color": "from-orange-500 to-red-500",
                    "features": ["Drag & Drop", "Team Collaboration", "Timeline", "Notifications"],
                    "nextStageCost": 60
                },
                {
                    "id": 5,
                    "name": "Hotel Booking System",
                    "description": "Sistem pemesanan hotel dengan calendar booking, payment gateway, dan manajemen kamar.",
                    "category": "intermediate",
                    "price": 320,
                    "rating": 4.6,
                    "downloads": 98,
                    "stage": 2,
                    "totalStages": 5,
                    "icon": "hotel",
                    "color": "from-teal-500 to-cyan-500",
                    "features": ["Calendar Booking", "Payment Gateway", "Room Management", "Reviews"],
                    "nextStageCost": 150
                },
                {
                    "id": 6,
                    "name": "Social Media Dashboard",
                    "description": "Dashboard untuk mengelola multiple social media accounts dengan scheduling dan analytics.",
                    "category": "advanced",
                    "price": 520,
                    "rating": 4.8,
                    "downloads": 76,
                    "stage": 5,
                    "totalStages": 5,
                    "icon": "share-alt",
                    "color": "from-blue-500 to-indigo-500",
                    "features": ["Multi-platform", "Post Scheduling", "Analytics", "Team Collaboration"],
                    "nextStageCost": 0
                }
            ]
        }
    </script>

    <script>
        // App State
        const state = {
            userCredit: 450,
            cart: [],
            projects: [],
            filteredProjects: [],
            currentCategory: 'all',
            searchQuery: '',
            selectedPackage: null
        };

        // DOM Elements
        const elements = {
            loadingOverlay: document.getElementById('loading-overlay'),
            app: document.getElementById('app'),
            notificationContainer: document.getElementById('notification-container'),
            cartSidebar: document.getElementById('cart-sidebar'),
            closeCart: document.getElementById('close-cart'),
            cartItems: document.getElementById('cart-items'),
            cartTotal: document.getElementById('cart-total'),
            checkoutBtn: document.getElementById('checkout-btn'),
            itemCount: document.getElementById('item-count'),
            availableCredit: document.getElementById('available-credit'),
            cartButton: document.getElementById('cart-button'),
            cartButtonMobile: document.getElementById('cart-button-mobile'),
            cartBadge: document.getElementById('cart-badge'),
            cartBadgeDesktop: document.getElementById('cart-badge-desktop'),
            projectsContainer: document.getElementById('projects-container'),
            noResults: document.getElementById('no-results'),
            loadingMore: document.getElementById('loading-more'),
            navTabs: document.querySelectorAll('.nav-tab'),
            searchInput: document.getElementById('search-input'),
            creditBalance: document.getElementById('credit-balance'),
            userCreditEl: document.getElementById('user-credit'),
            availableCreditStat: document.getElementById('available-credit-stat'),
            topupButton: document.getElementById('topup-button'),
            mobileTopup: document.getElementById('mobile-topup'),
            paymentModal: document.getElementById('payment-modal'),
            cancelPayment: document.getElementById('cancel-payment'),
            confirmPayment: document.getElementById('confirm-payment'),
            packageOptions: document.querySelectorAll('.package-option'),
            selectedPackageEl: document.getElementById('selected-package'),
            selectedCreditEl: document.getElementById('selected-credit'),
            selectedPriceEl: document.getElementById('selected-price'),
            projectDetailModal: document.getElementById('project-detail-modal'),
            projectDetailContent: document.getElementById('project-detail-content'),
            mobileMenuBtn: document.getElementById('mobile-menu-btn'),
            mobileMenu: document.getElementById('mobile-menu')
        };

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            initApp();
        });

        function initApp() {
            // Load projects data
            const projectsData = JSON.parse(document.getElementById('projects-data').textContent);
            state.projects = projectsData.projects;
            state.filteredProjects = [...state.projects];

            // Simulate loading delay
            setTimeout(() => {
                elements.loadingOverlay.classList.add('opacity-0');
                setTimeout(() => {
                    elements.loadingOverlay.style.display = 'none';
                    elements.app.classList.remove('hidden');
                    renderProjects();
                    updateCartBadge();
                }, 300);
            }, 1000);

            // Initialize event listeners
            initEventListeners();
        }

        function initEventListeners() {
            // Cart functionality
            elements.cartButton.addEventListener('click', toggleCart);
            elements.cartButtonMobile.addEventListener('click', toggleCart);
            elements.closeCart.addEventListener('click', toggleCart);

            // Navigation tabs
            elements.navTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs
                    elements.navTabs.forEach(t => t.classList.remove('active', 'bg-gradient-to-r', 'from-primary', 'to-secondary', 'text-white'));
                    elements.navTabs.forEach(t => t.classList.add('bg-white', 'text-gray-700'));
                    
                    // Add active class to clicked tab
                    this.classList.remove('bg-white', 'text-gray-700');
                    this.classList.add('active', 'bg-gradient-to-r', 'from-primary', 'to-secondary', 'text-white');
                    
                    // Filter projects
                    state.currentCategory = this.dataset.category;
                    filterProjects();
                });
            });

            // Search functionality
            elements.searchInput.addEventListener('input', function(e) {
                state.searchQuery = e.target.value.toLowerCase();
                filterProjects();
            });

            // Payment functionality
            elements.creditBalance.addEventListener('click', showPaymentModal);
            elements.topupButton.addEventListener('click', showPaymentModal);
            elements.mobileTopup.addEventListener('click', showPaymentModal);
            elements.cancelPayment.addEventListener('click', hidePaymentModal);
            
            // Package selection
            elements.packageOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove selected from all options
                    elements.packageOptions.forEach(opt => {
                        opt.classList.remove('border-primary', 'bg-blue-50');
                        opt.classList.add('border-gray-200');
                    });
                    
                    // Add selected to clicked option
                    this.classList.remove('border-gray-200');
                    this.classList.add('border-primary', 'bg-blue-50');
                    
                    // Update selected package
                    state.selectedPackage = {
                        credit: parseInt(this.dataset.credit),
                        price: parseInt(this.dataset.price)
                    };
                    
                    // Update UI
                    elements.selectedPackageEl.textContent = `${state.selectedPackage.credit} Credit`;
                    elements.selectedCreditEl.textContent = state.selectedPackage.credit;
                    elements.selectedPriceEl.textContent = `Rp ${state.selectedPackage.price.toLocaleString('id-ID')}`;
                    elements.confirmPayment.disabled = false;
                });
            });

            // Confirm payment
            elements.confirmPayment.addEventListener('click', processPayment);

            // Mobile menu
            elements.mobileMenuBtn.addEventListener('click', function() {
                elements.mobileMenu.classList.toggle('hidden');
            });

            // Close modals on background click
            document.addEventListener('click', function(e) {
                if (e.target === elements.paymentModal) {
                    hidePaymentModal();
                }
                if (e.target === elements.projectDetailModal) {
                    hideProjectDetailModal();
                }
            });

            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    hidePaymentModal();
                    hideProjectDetailModal();
                    if (!elements.cartSidebar.classList.contains('translate-x-full')) {
                        toggleCart();
                    }
                }
                if (e.ctrlKey && e.key === 'k') {
                    e.preventDefault();
                    elements.searchInput.focus();
                }
            });

            // Initialize checkout button
            elements.checkoutBtn.addEventListener('click', processCheckout);
        }

        // Project Rendering
        function renderProjects() {
            elements.projectsContainer.innerHTML = '';
            
            if (state.filteredProjects.length === 0) {
                elements.noResults.classList.remove('hidden');
                return;
            }
            
            elements.noResults.classList.add('hidden');
            
            state.filteredProjects.forEach(project => {
                const progressPercentage = (project.stage / project.totalStages) * 100;
                const isInCart = state.cart.some(item => item.id === project.id);
                
                const projectCard = document.createElement('div');
                projectCard.className = 'bg-white rounded-2xl overflow-hidden shadow-xl border border-gray-200 hover:shadow-2xl transition-shadow duration-300';
                projectCard.innerHTML = `
                    <div class="relative">
                        <div class="h-40 ${project.color} flex items-center justify-center">
                            <i class="fas fa-${project.icon} text-white text-5xl"></i>
                        </div>
                        <div class="absolute top-3 right-3 bg-success text-white px-2 py-1 rounded-full text-xs font-bold">
                            <i class="fas fa-star mr-1"></i>${project.rating}
                        </div>
                        <div class="absolute top-3 left-3 bg-white/90 backdrop-blur-sm font-bold px-2 py-1 rounded-lg text-xs ${getCategoryClass(project.category)}">
                            ${project.category.charAt(0).toUpperCase() + project.category.slice(1)}
                        </div>
                    </div>
                    <div class="p-5">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-lg font-bold text-gray-800">${project.name}</h3>
                            <div class="text-right">
                                <p class="text-xl font-bold text-credit-blue">${project.price}<span class="text-xs text-gray-500"> Credit</span></p>
                                <p class="text-xxs text-gray-500">Tahap ${project.stage}/${project.totalStages}</p>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm mb-5 line-clamp-2">${project.description}</p>
                        
                        <div class="mb-5">
                            <div class="flex justify-between text-xs mb-1">
                                <span class="text-gray-600">Tahap Pengembangan</span>
                                <span class="font-bold text-primary">${Math.round(progressPercentage)}%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-1.5">
                                <div class="${project.color.replace('from-', 'bg-gradient-to-r from-').replace('to-', ' to-')} h-1.5 rounded-full" style="width: ${progressPercentage}%"></div>
                            </div>
                            ${project.nextStageCost > 0 ? 
                                `<p class="text-xxs text-gray-500 mt-1">Tahap ${project.stage + 1} butuh ${project.nextStageCost} credit</p>` : 
                                `<p class="text-xxs text-success mt-1">âœ“ Project sudah lengkap</p>`
                            }
                        </div>
                        
                        <div class="flex justify-between space-x-3">
                            <button class="add-to-cart-btn flex-1 bg-gradient-to-r from-primary to-secondary text-white font-medium py-2.5 rounded-lg hover:opacity-90 transition text-sm shadow-md disabled:opacity-50 disabled:cursor-not-allowed" 
                                    data-id="${project.id}"
                                    ${isInCart ? 'disabled' : ''}>
                                <i class="fas ${isInCart ? 'fa-check' : 'fa-cart-plus'} mr-2"></i>
                                ${isInCart ? 'Dalam Keranjang' : 'Tambah ke Keranjang'}
                            </button>
                            <button class="view-detail-btn bg-gray-100 text-gray-700 font-medium py-2.5 px-3 rounded-lg hover:bg-gray-200 transition text-sm w-12" data-id="${project.id}">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                elements.projectsContainer.appendChild(projectCard);
            });
            
            // Add event listeners to newly created buttons
            document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    addToCart(parseInt(this.dataset.id));
                });
            });
            
            document.querySelectorAll('.view-detail-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    showProjectDetail(parseInt(this.dataset.id));
                });
            });
        }

        function filterProjects() {
            elements.projectsContainer.classList.add('opacity-50');
            elements.loadingMore.classList.remove('hidden');
            
            setTimeout(() => {
                state.filteredProjects = state.projects.filter(project => {
                    const matchesCategory = state.currentCategory === 'all' || project.category === state.currentCategory;
                    const matchesSearch = !state.searchQuery || 
                        project.name.toLowerCase().includes(state.searchQuery) ||
                        project.description.toLowerCase().includes(state.searchQuery);
                    
                    return matchesCategory && matchesSearch;
                });
                
                renderProjects();
                elements.projectsContainer.classList.remove('opacity-50');
                elements.loadingMore.classList.add('hidden');
            }, 300);
        }

        function getCategoryClass(category) {
            switch(category) {
                case 'basic': return 'text-primary';
                case 'intermediate': return 'text-warning';
                case 'advanced': return 'text-danger';
                default: return 'text-gray-600';
            }
        }

        // Cart Functionality
        function toggleCart() {
            if (elements.cartSidebar.classList.contains('translate-x-full')) {
                elements.cartSidebar.classList.remove('translate-x-full');
                updateCartDisplay();
            } else {
                elements.cartSidebar.classList.add('translate-x-full');
            }
        }

        function addToCart(projectId) {
            const project = state.projects.find(p => p.id === projectId);
            if (!project) return;
            
            // Check if already in cart
            if (state.cart.some(item => item.id === projectId)) {
                showNotification('Project sudah ada di keranjang!', 'warning');
                return;
            }
            
            // Check if user has enough credit
            const totalCartCost = state.cart.reduce((sum, item) => sum + item.price, 0) + project.price;
            if (totalCartCost > state.userCredit) {
                showNotification('Credit tidak cukup! Silakan top-up terlebih dahulu.', 'error');
                return;
            }
            
            state.cart.push(project);
            updateCartBadge();
            renderProjects(); // Re-render to update button states
            showNotification(`${project.name} ditambahkan ke keranjang!`, 'success');
            
            // If cart is open, update display
            if (!elements.cartSidebar.classList.contains('translate-x-full')) {
                updateCartDisplay();
            }
        }

        function removeFromCart(projectId) {
            state.cart = state.cart.filter(item => item.id !== projectId);
            updateCartBadge();
            renderProjects(); // Re-render to update button states
            updateCartDisplay();
            showNotification('Project dihapus dari keranjang', 'info');
        }

        function updateCartDisplay() {
            elements.cartItems.innerHTML = '';
            
            if (state.cart.length === 0) {
                elements.cartItems.innerHTML = `
                    <div class="text-center py-10 text-gray-500">
                        <i class="fas fa-shopping-cart text-4xl mb-4"></i>
                        <p>Keranjang masih kosong</p>
                    </div>
                `;
                elements.cartTotal.textContent = '0';
                elements.itemCount.textContent = '0';
                elements.checkoutBtn.disabled = true;
                return;
            }
            
            let total = 0;
            
            state.cart.forEach(item => {
                total += item.price;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'flex items-center space-x-4 p-4 bg-gray-50 rounded-xl';
                cartItem.innerHTML = `
                    <div class="flex-shrink-0">
                        <div class="w-12 h-12 ${item.color} rounded-lg flex items-center justify-center">
                            <i class="fas fa-${item.icon} text-white"></i>
                        </div>
                    </div>
                    <div class="flex-1">
                        <h4 class="font-bold text-sm">${item.name}</h4>
                        <p class="text-xs text-gray-600">Tahap ${item.stage}/${item.totalStages}</p>
                        <p class="text-sm font-bold text-credit-blue mt-1">${item.price} Credit</p>
                    </div>
                    <button class="remove-from-cart text-danger hover:text-red-700" data-id="${item.id}">
                        <i class="fas fa-trash"></i>
                    </button>
                `;
                
                elements.cartItems.appendChild(cartItem);
            });
            
            elements.cartTotal.textContent = total;
            elements.itemCount.textContent = state.cart.length;
            elements.availableCredit.textContent = state.userCredit;
            elements.checkoutBtn.disabled = false;
            
            // Add event listeners to remove buttons
            document.querySelectorAll('.remove-from-cart').forEach(btn => {
                btn.addEventListener('click', function() {
                    removeFromCart(parseInt(this.dataset.id));
                });
            });
        }

        function updateCartBadge() {
            const count = state.cart.length;
            elements.cartBadge.textContent = count;
            elements.cartBadgeDesktop.textContent = count;
            
            if (count > 0) {
                elements.cartBadge.classList.remove('hidden');
                elements.cartBadgeDesktop.classList.remove('hidden');
            } else {
                elements.cartBadge.classList.add('hidden');
                elements.cartBadgeDesktop.classList.add('hidden');
            }
        }

        // Payment Functionality
        function showPaymentModal() {
            elements.paymentModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function hidePaymentModal() {
            elements.paymentModal.classList.add('hidden');
            document.body.style.overflow = '';
            
            // Reset selection
            elements.packageOptions.forEach(opt => {
                opt.classList.remove('border-primary', 'bg-blue-50');
                opt.classList.add('border-gray-200');
            });
            elements.selectedPackageEl.textContent = '-';
            elements.selectedCreditEl.textContent = '0';
            elements.selectedPriceEl.textContent = 'Rp 0';
            elements.confirmPayment.disabled = true;
            state.selectedPackage = null;
        }

        function processPayment() {
            if (!state.selectedPackage) return;
            
            // Simulate payment processing
            elements.confirmPayment.disabled = true;
            elements.confirmPayment.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Memproses...';
            
            setTimeout(() => {
                // Update user credit
                state.userCredit += state.selectedPackage.credit;
                
                // Update UI
                elements.userCreditEl.textContent = state.userCredit;
                elements.availableCreditStat.textContent = state.userCredit;
                elements.availableCredit.textContent = state.userCredit;
                
                // Show success notification
                showNotification(`Berhasil menambahkan ${state.selectedPackage.credit} credit ke akun Anda!`, 'success');
                
                // Reset button
                elements.confirmPayment.innerHTML = '<i class="fas fa-lock mr-2"></i>Bayar Sekarang';
                elements.confirmPayment.disabled = false;
                
                // Close modal
                hidePaymentModal();
            }, 1500);
        }

        // Project Detail Modal
        function showProjectDetail(projectId) {
            const project = state.projects.find(p => p.id === projectId);
            if (!project) return;
            
            const progressPercentage = (project.stage / project.totalStages) * 100;
            const isInCart = state.cart.some(item => item.id === project.id);
            
            elements.projectDetailContent.innerHTML = `
                <div class="p-6">
                    <div class="flex justify-between items-start mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">${project.name}</h2>
                        <button class="close-detail text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times text-2xl"></i>
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="lg:col-span-2">
                            <div class="${project.color} h-48 rounded-xl flex items-center justify-center mb-6">
                                <i class="fas fa-${project.icon} text-white text-6xl"></i>
                            </div>
                            
                            <div class="mb-6">
                                <h3 class="text-lg font-bold mb-3">Deskripsi Project</h3>
                                <p class="text-gray-600">${project.description}</p>
                            </div>
                            
                            <div class="mb-6">
                                <h3 class="text-lg font-bold mb-3">Fitur Utama</h3>
                                <div class="grid grid-cols-2 gap-3">
                                    ${project.features.map(feature => `
                                        <div class="bg-gray-50 p-3 rounded-lg">
                                            <i class="fas fa-check text-success mr-2"></i>
                                            <span>${feature}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="bg-gray-50 rounded-xl p-6">
                                <div class="mb-6">
                                    <h3 class="text-lg font-bold mb-4">Informasi Download</h3>
                                    
                                    <div class="space-y-4">
                                        <div>
                                            <p class="text-sm text-gray-600">Harga</p>
                                            <p class="text-3xl font-bold text-credit-blue">${project.price} <span class="text-lg">Credit</span></p>
                                        </div>
                                        
                                        <div>
                                            <p class="text-sm text-gray-600">Rating</p>
                                            <div class="flex items-center">
                                                <div class="text-accent mr-2">
                                                    ${Array(5).fill().map((_, i) => `
                                                        <i class="fas fa-star ${i < Math.floor(project.rating) ? 'text-yellow-400' : 'text-gray-300'}"></i>
                                                    `).join('')}
                                                </div>
                                                <span class="font-bold">${project.rating}</span>
                                                <span class="text-gray-500 text-sm ml-2">(${project.downloads} download)</span>
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <p class="text-sm text-gray-600">Tahap Pengembangan</p>
                                            <div class="mt-2">
                                                <div class="flex justify-between text-sm mb-1">
                                                    <span>Tahap ${project.stage}/${project.totalStages}</span>
                                                    <span class="font-bold">${Math.round(progressPercentage)}%</span>
                                                </div>
                                                <div class="w-full bg-gray-200 rounded-full h-2">
                                                    <div class="${project.color.replace('from-', 'bg-gradient-to-r from-').replace('to-', ' to-')} h-2 rounded-full" style="width: ${progressPercentage}%"></div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <p class="text-sm text-gray-600">Kategori</p>
                                            <span class="inline-block px-3 py-1 rounded-full text-sm font-bold ${getCategoryClass(project.category)} bg-opacity-20 ${project.category === 'basic' ? 'bg-blue-100' : project.category === 'intermediate' ? 'bg-yellow-100' : 'bg-red-100'}">
                                                ${project.category.charAt(0).toUpperCase() + project.category.slice(1)}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    ${project.nextStageCost > 0 ? `
                                        <div class="mb-4 p-3 bg-blue-50 rounded-lg">
                                            <p class="text-sm text-blue-800">
                                                <i class="fas fa-info-circle mr-2"></i>
                                                Tahap ${project.stage + 1} membutuhkan ${project.nextStageCost} credit tambahan
                                            </p>
                                        </div>
                                    ` : ''}
                                    
                                    <button class="w-full add-to-cart-detail mb-3 ${isInCart ? 'bg-gray-100 text-gray-700' : 'bg-gradient-to-r from-primary to-secondary text-white'} font-bold py-3 rounded-lg hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed"
                                            data-id="${project.id}"
                                            ${isInCart ? 'disabled' : ''}>
                                        <i class="fas ${isInCart ? 'fa-check' : 'fa-cart-plus'} mr-2"></i>
                                        ${isInCart ? 'Sudah di Keranjang' : 'Tambah ke Keranjang'}
                                    </button>
                                    
                                    <button class="w-full bg-white border border-primary text-primary font-bold py-3 rounded-lg hover:bg-blue-50 transition">
                                        <i class="fas fa-eye mr-2"></i>Lihat Demo
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            elements.projectDetailModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            
            // Add event listeners
            document.querySelector('.close-detail').addEventListener('click', hideProjectDetailModal);
            document.querySelector('.add-to-cart-detail').addEventListener('click', function() {
                addToCart(parseInt(this.dataset.id));
                hideProjectDetailModal();
            });
        }

        function hideProjectDetailModal() {
            elements.projectDetailModal.classList.add('hidden');
            document.body.style.overflow = '';
        }

        // Checkout Process
        function processCheckout() {
            const totalCost = state.cart.reduce((sum, item) => sum + item.price, 0);
            
            if (totalCost > state.userCredit) {
                showNotification('Credit tidak cukup! Silakan top-up terlebih dahulu.', 'error');
                return;
            }
            
            // Confirm checkout
            if (!confirm(`Konfirmasi download ${state.cart.length} project dengan total ${totalCost} credit?`)) {
                return;
            }
            
            // Simulate processing
            elements.checkoutBtn.disabled = true;
            elements.checkoutBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Memproses...';
            
            setTimeout(() => {
                // Deduct credits
                state.userCredit -= totalCost;
                
                // Update UI
                elements.userCreditEl.textContent = state.userCredit;
                elements.availableCreditStat.textContent = state.userCredit;
                elements.availableCredit.textContent = state.userCredit;
                
                // Clear cart
                const downloadedProjects = [...state.cart];
                state.cart = [];
                
                // Update UI
                updateCartBadge();
                updateCartDisplay();
                renderProjects();
                
                // Show success message
                showNotification(`Berhasil mendownload ${downloadedProjects.length} project!`, 'success');
                
                // Reset button
                elements.checkoutBtn.innerHTML = `Download Semua (<span id="item-count">0</span> Project)`;
                elements.checkoutBtn.disabled = true;
                
                // Close cart
                toggleCart();
                
                // Show download summary
                setTimeout(() => {
                    let message = 'Project yang berhasil didownload:\n\n';
                    downloadedProjects.forEach((project, index) => {
                        message += `${index + 1}. ${project.name} (${project.price} credit)\n`;
                    });
                    message += `\nTotal: ${totalCost} credit\nSisa credit: ${state.userCredit}`;
                    alert(message);
                }, 500);
            }, 2000);
        }

        // Notification System
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `animate-fade-in bg-white rounded-xl shadow-xl p-4 border-l-4 ${type === 'success' ? 'border-success' : type === 'error' ? 'border-danger' : type === 'warning' ? 'border-accent' : 'border-primary'}`;
            
            const icon = type === 'success' ? 'fa-check-circle' : 
                         type === 'error' ? 'fa-exclamation-circle' : 
                         type === 'warning' ? 'fa-exclamation-triangle' : 'fa-info-circle';
            
            const iconColor = type === 'success' ? 'text-success' : 
                             type === 'error' ? 'text-danger' : 
                             type === 'warning' ? 'text-accent' : 'text-primary';
            
            notification.innerHTML = `
                <div class="flex items-start">
                    <i class="fas ${icon} ${iconColor} text-xl mr-3 mt-0.5"></i>
                    <div class="flex-1">
                        <p class="font-medium">${message}</p>
                    </div>
                    <button class="close-notification text-gray-400 hover:text-gray-600 ml-3">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            
            elements.notificationContainer.appendChild(notification);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateX(100%)';
                    notification.style.transition = 'all 0.3s ease';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }
            }, 5000);
            
            // Close button
            notification.querySelector('.close-notification').addEventListener('click', function() {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            });
        }

        // Export functionality for debugging
        window.VLProject = {
            state,
            addToCart,
            removeFromCart,
            showNotification,
            updateCartBadge,
            processPayment
        };
    </script>
</body>
</html>
